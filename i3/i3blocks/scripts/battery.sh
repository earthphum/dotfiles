#!/usr/bin/env bash

# ‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å acpi
read -r _ status percent _ <<< "$(acpi -b | sed 's/,//g' | awk '{print $1, $3, $4}')"

# ‡πÄ‡∏≠‡∏≤‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡∏ô‡∏ï‡πå
percent="${percent%\%}"

# ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
if   [[ "$status" == "Charging"    ]]; then icon="‚ö°"  # ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ä‡∏≤‡∏£‡πå‡∏à
elif [[ "$status" == "Discharging" ]]; then icon="üîã"  # ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏ä‡πâ‡πÑ‡∏ü
else   icon="‡πÄ‡∏ï‡πá‡∏°‡∏•‡∏∞‡∏≠‡πâ‡∏≤‡∏¢ "                        # Unknown ‡∏´‡∏£‡∏∑‡∏≠ Full
fi

# ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• ‡πÄ‡∏ä‡πà‡∏ô "üîã 57%"
echo "$icon $percent%"
